<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>자유 게시판</title>
<script type="text/javascript"
	src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="js/ckeditor/ckeditor.js"></script>
<script src="/js/messageBoard.js"></script>
</head>
<body>
	<h3>자유 게시판</h3>
	<div>
		<textarea id="contents" placeholder="내용"></textarea>
		<button id="write">제출</button>
	</div>

	<ul id="messageBoardList">
		<li th:each="boardList : ${messageBoardList}">
			<div>
				<span>작성자</span> <span th:text="${boardList.userID}"></span>
			</div>
			<div>
				<span>시간(작성/갱신)</span> 
					<span th:if="${#strings.toString(boardList.writeDate)}==${#strings.toString(boardList.modifiyDate)}" th:text="${boardList.writeDate}"></span>
					<span th:unless="${#strings.toString(boardList.writeDate)}==${#strings.toString(boardList.modifiyDate)}" th:text="${boardList.modifiyDate}"></span>
			</div>
			<div>
				<span>본문</span><span class="ck-content" th:text="${boardList.content}"></span>
			</div>
			<div class="post-btns">
				<div class="btn-group left" th:if="${session.loginMember.userID}==${boardList.userID}">
					<button class="btn" >수정</button>
					<button class="btn">삭제</button>
					<button class="btn">덧글쓰기</button>
				</div>
				<div class="btn-group right" th:unless="${session.loginMember.userID}==${boardList.userID}">
					<button class="btn">덧글쓰기</button>
				</div>
			</div>
			<div class="reply-write">
				<div class="editor">
					<textarea id="comment" name="" cols="30" rows="10"></textarea>
				</div>
				<div class="btn-group right">
					<button class="btn small btn_write">글쓰기</button>
				</div>
			</div>
			<ul class="reply-list">
				<li class="reply" th:each="boardCommentList : ${messageBoardCommentList}" th:if="${boardList.idx}==${boardCommentList.messageBoardIdx}">
					<div class="reply-info">
						<span>작성자 </span><span th:text="${boardCommentList.userID}"></span>
						<div class="time">
							<span>작성</span>
							<!-- <span>수정</span>  -->
							<span th:if="${#strings.toString(boardCommentList.writeDate)}==${#strings.toString(boardCommentList.modifiyDate)}" th:text="${boardCommentList.writeDate}"></span>
							<span th:unless="${#strings.toString(boardCommentList.writeDate)}==${#strings.toString(boardCommentList.modifiyDate)}" th:text="${boardCommentList.modifiyDate}"></span>
						</div>
					</div>
					<div class="reply-body">
						<span>내용</span><span th:text="${boardCommentList.comment}"></span>
					</div>
					<div class="reply-btns">
						<div class="btn-group left" th:if="${session.loginMember.userID}==${boardCommnetList.userID}"> 
							<button class="btn small">수정</button>
							<button class="btn small">삭제</button>
						</div>
					</div>
				</li>
			</ul>
		</li>
	</ul>
	<button id="moreBtn">더보기</button>

</body>
</html>